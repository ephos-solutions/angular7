<app-header></app-header>

<div *ngIf="successMes">
    <app-activation [userdata]="form.value" [mes]="successMes"></app-activation>
</div>

<main *ngIf="!successMes">
    <div class="container">
        <!--Section: Main info-->
        <section class="mt-5 wow fadeIn">
            <!-- Full Page Intro -->
            <div class="full-page-intro"  >
                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex ">
                    <!-- Content -->
                    <div class="container">
                        <!--Grid row-->
                        <div class="row">
                            <!--Grid column-->
                            <div class="col-md-6 col-xl-5 mb-4">

                                <!--Card-->
                                <div class="card">
                                    <!--Card content-->
                                    <div class="card-body">
                                        <div *ngIf="errMes.error" class="alert alert-danger" role="alert">
                                            {{errMes.error}}
                                        </div>
                                        <!-- Form -->
                                        <form [formGroup]="form"  style="color: #757575;" (submit)="onSubmit($event)" *ngIf="!successMes">
                                            <!-- Heading -->
                                            <h3 class="dark-grey-text text-center">
                                                <strong>New Account</strong>
                                            </h3>
                                            <hr>

                                            <!-- First name -->
                                            <div class="md-form">
                                                <input type="text" id="materialRegisterFormFirstName" class="form-control" formControlName="firstname" mdbInputDirective data-error=" " data-success=" ">
                                                <label for="materialRegisterFormFirstName">First name</label>
                                                <mdb-error  *ngIf="errMes.firstname">{{errMes.firstname}}</mdb-error>
                                            </div>
                                            <!-- Last name -->
                                            <div class="md-form">
                                                <input type="text" id="materialRegisterFormLastName" class="form-control" formControlName="lastname" mdbInputDirective data-error=" " data-success=" ">
                                                <label for="materialRegisterFormLastName">Last name</label>
                                                <mdb-error *ngIf="errMes.lastname">{{errMes.lastname}}</mdb-error>
                                            </div>

                                            <!-- E-mail -->
                                            <div class="md-form mt-0">
                                                <input type="email" id="materialRegisterFormEmail" class="form-control" formControlName="username" mdbInputDirective data-error=" " data-success=" ">
                                                <label for="materialRegisterFormEmail" >Email ID</label>
                                                <mdb-error *ngIf="errMes.username">{{errMes.username}}</mdb-error>
                                                <!--<small id="materialRegisterFormEmailHelpBlock" class="form-text text-muted mb-4">-->
                                                    <!--User name must be valid email id-->
                                                <!--</small>-->
                                            </div>

                                            <!-- Password -->
                                            <div class="md-form">
                                                <input type="password" id="materialRegisterFormPassword" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$" class="form-control" formControlName="password" aria-describedby="materialRegisterFormPasswordHelpBlock"
                                                       mdbInputDirective data-error=" " data-success=" ">
                                                <label for="materialRegisterFormPassword">Password</label>
                                                <mdb-error *ngIf="errMes.password">{{errMes.password}}</mdb-error>
                                                <!--<small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">-->
                                                    <!--Password should be at least 8 characters long and should contain one number,one uppercase character and one lowercase character-->
                                                <!--</small>-->
                                            </div>

                                            <div class="md-form">
                                                <input type="password" id="materialRegisterFormConfirmPassword" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$" class="form-control" formControlName="confirm_password" aria-describedby="materialRegisterFormPasswordHelpBlock"
                                                       mdbInputDirective data-error=" " data-success=" ">
                                                <label for="materialRegisterFormConfirmPassword">Reconfirm Password</label>
                                                <mdb-error *ngIf="errMes.confirm_password">{{errMes.confirm_password}}</mdb-error>
                                            </div>

                                            <!-- Phone number -->
                                            <div class="md-form">
                                                <input type="text" id="materialRegisterFormPhone" class="form-control" formControlName="telephone" aria-describedby="materialRegisterFormPhoneHelpBlock"
                                                       mdbInputDirective data-error=" " data-success=" ">
                                                <label for="materialRegisterFormPhone">Mobile Number</label>
                                                <mdb-error *ngIf="errMes.telephone">{{errMes.telephone}}</mdb-error>
                                            </div>

                                            <div class="text-center">
                                                <button class="btn btn-facebook"  type="submit">Register</button>
                                                <hr>
                                                <fieldset class="form-check">

                                                    <label class="form-check-label dark-grey-text"> <p>Already a member?
                                                        <a routerLink="/login">Login</a>
                                                    </p></label>
                                                </fieldset>
                                            </div>

                                        </form>
                                        <!-- Form -->

                                    </div>

                                </div>
                                <!--/.Card-->

                            </div>
                            <!--Grid column-->
                            <!--Grid column-->
                            <div class="col-md-6 mb-4 white-text text-center text-md-left">
                                <p></p>
                                <h4 class=" font-weight-bold">Cavelog sign in with</h4>

                                <!--<hr class="hr-light">-->

                                <!--<p>-->

                                <!--</p>-->

                                <p class="mb-4 d-none d-md-block">
                                    Sign in with social media for quick access with either Facebook or with Google
                                </p>

                                <!--<a target="_blank" href="https://mdbootstrap.com/education/bootstrap/" class="btn btn-indigo btn-lg">Start free tutorial-->
                                <!--<i class="fas fa-graduation-cap ml-2"></i>-->
                                <!--</a>-->
                                <hr class="hr-light">
                                <a class="btn  btn-social btn-facebook" >
                                    <span class="fa fa-facebook"></span> Sign in with Facebook
                                </a>
                                <hr>
                                <a class="btn  btn-social btn-google" >
                                    <span class="fa fa-google"></span> Sign in with Google
                                </a>

                            </div>

                        </div>
                        <!--Grid row-->

                    </div>
                    <!-- Content -->

                </div>
                <!-- Mask & flexbox options-->

            </div>
            <!-- Full Page Intro -->
        </section></div></main>




